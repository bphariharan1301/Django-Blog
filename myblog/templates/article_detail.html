{% extends 'base.html' %}

{% block title %} 
    {{ post.title }} 
{% endblock %}

{% block content %}

<style>
    .btn:hover{
        background-color: #00b3db;
        color: #fff;
    }
</style>

<h1> {{ post.title }} </h1>
<br>

<!-- <div class="card" style="width: 18rem;">
    <img src="{{ post.header_image.url }}" class="card-img-top " alt="...">
    <div class="card-body">
      <h5 class="card-title">Card title</h5>
      <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content. Lorem ipsum dolor sit, amet consectetur adipisicing elit. Possimus, consectetur.</p>
      <a href="#" class="btn btn-primary">Go somewhere</a>
    </div>
  </div> -->

  <div class="card mb-3">
    <div class="row no-gutters">
      <div class="col-md-4">
        <img src="{{ post.header_image.url }}" class="card-img" alt="My Image">
      </div>
      <div class="col-md-8">
        <div class="card-body">
          <p class="card-text">
            <small class="text-muted">
              By: {{ post.author.first_name }} 
                  {{ post.author.last_name }} - 
                  {{post.published_date}}
            </small>
          </p>
          <h5 class="card-title">{{ post.title }}</h5>
          <p class="card-text" >{{post.body|safe}}</p>
          {% if user.is_authenticated %}
              <a href="{% url 'update_post' post.pk %}" class="card-link">Edit</a>
              <a href="{% url 'delete_post' post.pk %}" class="card-link">Delete</a>
          {% endif %}
        </div>
      </div>
    </div>
  </div>


<p>
    {{post.body|safe}}
</p>

<a href="{% url 'home' %}" class="btn btn-secondary">Back</a>

<br>
<br>
<hr>

<form action="{% url 'like_post' post.pk %}" method="POST">
    {% csrf_token %}
    {% if user.is_authenticated %}
        {% if liked %}
            <button type="submit", name="post_id", value="{{ post.id }}", class="btn btn-primary btn-sm">
                Unlike
            </button> 
        {% else %}
            <button type="submit", name="post_id", value="{{ post.id }}", class="btn btn-primary btn-sm">
                Like
            </button> 
        {% endif %}
        - {{ total_likes }}
    {% endif %}
    
</form>

{% endblock %}